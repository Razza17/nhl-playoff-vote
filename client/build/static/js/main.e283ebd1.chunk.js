(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(28),o=a.n(s),l=a(59),c=a(14),i=(a(95),a(96),a(7)),u=a(8),m=a(11),d=a(9),p=a(10),E=a(141),h=a(140),b=a(49),f=a(13),v=a.n(f),g="GET_ERRORS",O="SET_CURRENT_USER",y=function(e){e?v.a.defaults.headers.common.Authorization=e:delete v.a.defaults.headers.common.Authorization},j=a(56),S=a.n(j),C=function(e,t){return function(a){v.a.put("/user/"+e,t).catch(function(e){a({type:g,payload:e})})}},T=function(e,t){return function(a){v.a.post("/login",e).then(function(e){var n=e.data.token;localStorage.setItem("jwtToken",n),y(n);var r=S()(n);a(N(r)),localStorage.setItem("userID",r.id),localStorage.setItem("userPseudo",r.pseudo),t.push("/vote")}).catch(function(e){a({type:g,payload:e})})}},_=function(e){return function(t){v.a.post("/login",e).then(function(e){var a=localStorage.getItem("jwtToken");y(a);var n=S()(a);t(N(n))}).catch(function(e){t({type:g,payload:e})})}},N=function(e){return{type:O,payload:e}},I=function(){return function(e){localStorage.removeItem("jwtToken"),localStorage.removeItem("userID"),localStorage.removeItem("userPseudo"),y(!1),e(N({})),window.location.assign("/")}},k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={isAuthenticated:null!==localStorage.getItem("jwtToken")},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){!0===e.auth.isAuthenticated&&this.setState({isAuthenticated:!0})}},{key:"onLogout",value:function(){this.props.logoutUser()}},{key:"render",value:function(){var e=r.a.createElement(E.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(h.a,{className:"mr-auto"},r.a.createElement(b.LinkContainer,{to:"/vote"},r.a.createElement(h.a.Link,{eventKey:0},"Vote !")),r.a.createElement(b.LinkContainer,{to:"/classement"},r.a.createElement(h.a.Link,{eventKey:1},"Classement"))),r.a.createElement(h.a,null,r.a.createElement(b.LinkContainer,{to:"/monCompte"},r.a.createElement(h.a.Link,{eventKey:3},"Mon Compte")),r.a.createElement(h.a.Link,{eventKey:4,onClick:this.onLogout.bind(this)},"Me d\xe9connecter")));return r.a.createElement(E.a,{bg:"light",expand:"lg"},r.a.createElement(E.a.Brand,{className:"navbar-brand"},"NHL vote app"),r.a.createElement(E.a.Toggle,{"aria-controls":"basic-navbar-nav"}),this.state.isAuthenticated?e:null)}}]),t}(n.Component),w=Object(c.b)(function(e){return{auth:e.auth}},{logoutUser:I})(k),V=a(69),D=a(39),A=a(35),R=a(22),x=a(37),L=a(135),P=a(136),G=a(78),U=a(143),M=a(142),J=a(137),B=a(3),H=a.n(B),q=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={nom:"",prenom:"",pseudo:"",email:"",password:"",password_confirm:"",errors:{}},e.handleInputChange=e.handleInputChange.bind(Object(R.a)(Object(R.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(R.a)(Object(R.a)(e))),e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleInputChange",value:function(e){this.setState(Object(A.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e={nom:this.state.nom,prenom:this.state.prenom,pseudo:this.state.pseudo,email:this.state.email,password:this.state.password,password_confirm:this.state.password_confirm};this.props.registerUser(e,this.props.history)}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement(L.a,{id:"logup",className:"vertical-middle",fluid:!0},r.a.createElement(P.a,null,r.a.createElement(G.a,{xs:12,md:{span:4,offset:4}},r.a.createElement(U.a,{id:"logup-panel-group"},r.a.createElement(U.a.Header,null,r.a.createElement("h3",null,"Cr\xe9er ton compte")),r.a.createElement(U.a.Body,null,r.a.createElement(M.a.Group,{controlId:"nom"},r.a.createElement(M.a.Control,{type:"text",className:H()("form-control form-control-lg",{"is-invalid":e.nom}),placeholder:"Entre ton nom",name:"nom",onChange:this.handleInputChange,value:this.state.nom}),e.nom&&r.a.createElement("div",{className:"invalid-feedback"},e.nom)),r.a.createElement(M.a.Group,{controlId:"prenom"},r.a.createElement(M.a.Control,{type:"text",className:H()("form-control form-control-lg",{"is-invalid":e.prenom}),placeholder:"Entre ton pr\xe9nom",name:"prenom",onChange:this.handleInputChange,value:this.state.prenom}),e.prenom&&r.a.createElement("div",{className:"invalid-feedback"},e.prenom)),r.a.createElement(M.a.Group,{controlId:"pseudo"},r.a.createElement(M.a.Control,{type:"text",className:H()("form-control form-control-lg",{"is-invalid":e.pseudo}),placeholder:"Entre ton pseudo",name:"pseudo",onChange:this.handleInputChange,value:this.state.pseudo}),e.pseudo&&r.a.createElement("div",{className:"invalid-feedback"},e.pseudo)),r.a.createElement(M.a.Group,{controlId:"email"},r.a.createElement(M.a.Control,{type:"email",className:H()("form-control form-control-lg",{"is-invalid":e.email}),placeholder:"Entre ton email",name:"email",onChange:this.handleInputChange,value:this.state.email}),e.email&&r.a.createElement("div",{className:"invalid-feedback"},e.email)),r.a.createElement(M.a.Group,{controlId:"password"},r.a.createElement(M.a.Control,{type:"password",className:H()("form-control form-control-lg",{"is-invalid":e.password}),placeholder:"Entre ton mot de passe",name:"password",onChange:this.handleInputChange,value:this.state.password}),e.password&&r.a.createElement("div",{className:"invalid-feedback"},e.password)),r.a.createElement(M.a.Group,{controlId:"password_confirm"},r.a.createElement(M.a.Control,{type:"password",className:H()("form-control form-control-lg",{"is-invalid":e.password_confirm}),placeholder:"Confirme ton mot de passe",name:"password_confirm",onChange:this.handleInputChange,value:this.state.password_confirm}),e.password_confirm&&r.a.createElement("div",{className:"invalid-feedback"},e.password_confirm)),r.a.createElement(J.a,{onClick:this.handleSubmit},"Enregistrer"),r.a.createElement(G.a,{xs:12,className:"signup-to-signin"},r.a.createElement(x.a,{to:"/signin"},"Sinon pour te connecter c'est par ici")))))))}}]),t}(n.Component),W=Object(c.b)(function(e){return{errors:e.errors}},{registerUser:function(e,t){return function(a){v.a.post("/user",e).then(function(e){return t.push("/signin")}).catch(function(e){a({type:g,payload:e.response.data})})}}})(q),K=a(79),F=a(80),z=a(12),X=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={email:"",password:"",errors:{}},e.handleInputChange=e.handleInputChange.bind(Object(R.a)(Object(R.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(R.a)(Object(R.a)(e))),e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleInputChange",value:function(e){this.setState(Object(A.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e={email:this.state.email,password:this.state.password};this.props.loginUser(e,this.props.history)}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors.response.data})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement(L.a,{id:"login",className:"vertical-middle",fluid:!0},r.a.createElement(G.a,{xs:12,md:{span:4,offset:4}},r.a.createElement(U.a,{id:"signinPanel"},r.a.createElement(U.a.Header,null,r.a.createElement("h3",null,"Connecte toi")),r.a.createElement(U.a.Body,null,r.a.createElement(K.a,{controlId:"email"},r.a.createElement(F.a,{type:"email",placeholder:"Entre ton email",className:H()("form-control form-control-lg",{"is-invalid":e.email}),name:"email",onChange:this.handleInputChange,value:this.state.email}),e.email&&r.a.createElement("div",{className:"invalid-feedback"},e.email)),r.a.createElement(K.a,{controlId:"password"},r.a.createElement(F.a,{type:"password",placeholder:"Entre ton mot de passe",className:H()("form-control form-control-lg",{"is-invalid":e.password}),name:"password",onChange:this.handleInputChange,value:this.state.password}),e.password&&r.a.createElement("div",{className:"invalid-feedback"},e.password)),r.a.createElement(J.a,{onClick:this.handleSubmit},"Envoyer")))))}}]),t}(n.Component),$=Object(c.b)(function(e){return{errors:e.errors}},function(e){return Object(z.b)({loginUser:T},e)})(X);function Q(){return function(e){v.a.get("/series").then(function(t){e({type:"GET_SERIES",payload:t.data})}).catch(function(t){e({type:"GET_SERIES_REJECTED",payload:t})})}}function Y(e){return function(t){v.a.post("/voteseries",e).then(function(e){t({type:"POST_SERIES",payload:e.data})}).catch(function(e){t({type:"POST_SERIES_REJECTED",payload:e})})}}function Z(e){return function(t){v.a.get("/voteseries/"+e).then(function(e){t({type:"GET_USER_SERIES_VOTE",payload:e.data})}).catch(function(e){t({type:"GET_USER_SERIES_VOTE_REJECTED",payload:e})})}}var ee=a(47),te=a.n(ee),ae=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(G.a,{xs:12,md:6},r.a.createElement(U.a,null,r.a.createElement(U.a.Header,null,r.a.createElement(U.a.Title,null,r.a.createElement("img",{className:"nhl-logo",src:te.a,alt:"NHL Logo"}),"Match ",this.props.match+1)),r.a.createElement(U.a.Body,null,r.a.createElement(P.a,{className:"user-series-vote align-center"},r.a.createElement(G.a,{xs:6,md:4,className:4===this.props.team1.score&&"user-series-vote-score font-bold"},r.a.createElement("img",{src:this.props.team1.img,alt:this.props.team1.name}),r.a.createElement("p",null,this.props.team1.name)),r.a.createElement(G.a,{xs:3,md:1,className:4===this.props.team1.score?"user-series-vote-score font-bold":"user-series-vote-score"},this.props.team1.score),r.a.createElement(G.a,{xs:12,md:2,className:"user-series-vote-score"},"VS"),r.a.createElement(G.a,{xs:3,md:1,className:4===this.props.team2.score?"user-series-vote-score font-bold":"user-series-vote-score"},this.props.team2.score),r.a.createElement(G.a,{xs:6,md:4,className:4===this.props.team2.score&&"user-series-vote-score font-bold"},r.a.createElement("img",{src:this.props.team2.img,alt:this.props.team2.name}),r.a.createElement("p",null,this.props.team2.name))))))}}]),t}(n.Component),ne=a(1),re=a.n(ne),se=function(e){function t(e,a){var n;return Object(i.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e,a))).props.getSeries(),n.state={vote:[],errors:""},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"processBdd",value:function(){var e=this;this.props.series.length===this.state.vote.length?(this.state.vote.map(function(t,a){return e.props.postSeries(t),t}),this.context.router.history.push("/classement")):this.setState({errors:"Attention tu as deux \xe9quipes \xe9galit\xe9s"})}},{key:"onFormSubmit",value:function(e){var t=this;e.preventDefault(),this.props.series.map(function(e,a){var n=document.getElementById(e.team1.id),r=document.getElementById(e.team2.id),s=parseInt(n.value),o=parseInt(r.value);return s!==o&&(t.state.vote.push({userID:localStorage.getItem("userID"),seriesId:e._id,team1:{name:e.team1.name,img:e.team1.img,score:s},team2:{name:e.team2.name,img:e.team2.img,score:o},winner:s>o?"team1":"team2",diff:s-o}),t.state.vote)}),this.processBdd()}},{key:"render",value:function(){return r.a.createElement(G.a,{xs:12},r.a.createElement(U.a,null,r.a.createElement(U.a.Header,null,r.a.createElement(U.a.Title,null,r.a.createElement("img",{className:"nhl-logo",src:te.a,alt:"NHL Logo"}),"C'est le moment de voter pour les series - 1",r.a.createElement("sup",null,"st")," round")),r.a.createElement(U.a.Body,null,r.a.createElement(M.a,{onSubmit:this.onFormSubmit.bind(this)},r.a.createElement(G.a,{xs:12},this.props.series.map(function(e,t){return r.a.createElement(P.a,{key:t,className:"form-series"},r.a.createElement(G.a,{xs:12,className:"align-center"},r.a.createElement("h3",null,"Match ",t+1)),r.a.createElement(G.a,{xs:12,md:4,lg:3,className:"form-series-col"},r.a.createElement(G.a,{xs:6,md:8,className:"align-center"},r.a.createElement("img",{src:e.team1.img,alt:e.team1.name}),r.a.createElement("p",{className:"series-teams-name"},e.team1.name)),r.a.createElement(G.a,{xs:6,md:4},r.a.createElement(M.a.Group,null,r.a.createElement(M.a.Control,{as:"select",id:e.team1.id},r.a.createElement("option",null,"0"),r.a.createElement("option",null,"1"),r.a.createElement("option",null,"2"),r.a.createElement("option",null,"3"),r.a.createElement("option",null,"4"))))),r.a.createElement(G.a,{xs:12,md:2,className:"align-center"},r.a.createElement("p",{className:"series-versus"},"VS")),r.a.createElement(G.a,{xs:12,md:4,lg:3,className:"form-series-col"},r.a.createElement(G.a,{xs:6,md:4},r.a.createElement(M.a.Group,null,r.a.createElement(M.a.Control,{as:"select",id:e.team2.id},r.a.createElement("option",null,"0"),r.a.createElement("option",null,"1"),r.a.createElement("option",null,"2"),r.a.createElement("option",null,"3"),r.a.createElement("option",null,"4")))),r.a.createElement(G.a,{xs:6,md:8,className:"align-center"},r.a.createElement("img",{src:e.team2.img,alt:e.team2.name}),r.a.createElement("p",{className:"series-teams-name"},e.team2.name))))})),r.a.createElement(G.a,{xs:12,className:"align-center"},r.a.createElement(J.a,{type:"submit"},"Submit"),""!==this.state.errors&&r.a.createElement(G.a,{xs:12,className:"invalid-feedback"},this.state.errors))))))}}]),t}(n.Component);se.contextTypes={router:re.a.object};var oe=Object(c.b)(function(e){return{series:e.series.series}},function(e){return Object(z.b)({getSeries:Q,postSeries:Y},e)})(se),le=function(e){function t(e){var a;Object(i.a)(this,t),a=Object(m.a)(this,Object(d.a)(t).call(this,e));var n=localStorage.getItem("userID");return a.state={userID:n,isVoted:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getUserSeries(this.state.userID),1===this.props.userSeries.length&&this.setState({isVoted:!0})}},{key:"componentWillReceiveProps",value:function(e){0!==e.userSeries.length&&this.setState({isVoted:!0})}},{key:"render",value:function(){return r.a.createElement(L.a,{id:"vote-form",fluid:!0},r.a.createElement(P.a,null,this.state.isVoted?this.props.userSeries.map(function(e,t){return r.a.createElement(ae,Object.assign({key:t},e,{match:t}))}):r.a.createElement(oe,null)))}}]),t}(n.Component),ce=Object(c.b)(function(e){return{userSeries:e.series.userSeries}},function(e){return Object(z.b)({getUserSeries:Z},e)})(le),ie=a(138);function ue(){return function(e){v.a.get("/classement").then(function(t){e({type:"GET_ALL_CLASSEMENT",payload:t.data})}).catch(function(t){e({type:"GET_ALL_CLASSEMENT_REJECTED",payload:t})})}}function me(e,t){return function(a){v.a.put("/classement/"+e,t).then(function(n){a({type:"UPDATE_CLASSEMENT",payload:n.data,userID:e,datas:t})}).catch(function(e){a({type:"UPDATE_CLASSEMENT_REJECTED",payload:e})})}}var de=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).props.getAllClassement(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(G.a,{xs:12,md:{span:4,offset:4},className:"align-center"},r.a.createElement(ie.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"align-center"},"Classement"),r.a.createElement("th",{className:"align-center"},"Pseudo"),r.a.createElement("th",{className:"align-center"},"Points"))),r.a.createElement("tbody",null,this.props.allClassement.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.userPseudo),r.a.createElement("td",null,e.points))}))))}}]),t}(n.Component),pe=Object(c.b)(function(e){return{allClassement:e.classement.allClassement}},function(e){return Object(z.b)({getAllClassement:ue},e)})(de);function Ee(e){return function(t){v.a.get("/vote/"+e).then(function(e){t({type:"GET_VOTE",payload:e.data})}).catch(function(e){t({type:"GET_VOTE_REJECTED",payload:e})})}}function he(){return function(e){v.a.get("/vote").then(function(t){e({type:"GET_ALL_VOTE",payload:t.data})}).catch(function(t){e({type:"GET_ALL_VOTE_REJECTED",payload:t})})}}function be(){return function(e){v.a.get("/teams").then(function(t){e({type:"GET_TEAMS",payload:t.data})}).catch(function(t){e({type:"GET_TEAMS_REJECTED",payload:t})})}}var fe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).props.getTeams(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.allTeams.map(function(t,a){return-1===e.props.teams.indexOf(t._id)||r.a.createElement(G.a,{xs:12,md:4,key:a,className:"user-vote-list-item"},r.a.createElement("img",{className:"teams-logo",src:t.img,alt:t.name})," ",t.name)});return r.a.createElement(U.a,null,r.a.createElement(U.a.Header,null,r.a.createElement(U.a.Title,null,"Vote de ",this.props.userPseudo)),r.a.createElement(U.a.Body,{className:"user-vote-list"},t))}}]),t}(n.Component),ve=Object(c.b)(function(e){return{allTeams:e.teams.teams}},function(e){return Object(z.b)({getTeams:be},e)})(fe),ge=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).props.getVote(localStorage.getItem("userID")),a.props.getAllVote(),a.state={isVoted:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){1===this.props.userVote.length&&this.setState({isVoted:!0})}},{key:"componentDidUpdate",value:function(e){e.userVote.length!==this.props.userVote.length&&this.setState({isVoted:!0})}},{key:"render",value:function(){return r.a.createElement(L.a,{id:"vote-form",fluid:!0},r.a.createElement(G.a,{xs:12},this.state.isVoted?this.props.allVote.map(function(e,t){return r.a.createElement(ve,Object.assign({key:t},e))}):r.a.createElement("p",null,"Il faut que tu vote d'abord !")))}}]),t}(n.Component),Oe=Object(c.b)(function(e){return{userVote:e.vote.userVote,allVote:e.vote.allVote}},function(e){return Object(z.b)({getVote:Ee,getAllVote:he},e)})(ge),ye=a(139),je=function(e){function t(e){var a;Object(i.a)(this,t);var n=(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).props.id;return a.state={userID:n,modifyUser:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"modifyUser",value:function(){this.setState({modifyUser:!this.state.modifyUser})}},{key:"changeUser",value:function(){var e={nom:Object(s.findDOMNode)(this.refs.newNom).value,prenom:Object(s.findDOMNode)(this.refs.newPrenom).value,pseudo:Object(s.findDOMNode)(this.refs.newPseudo).value,email:Object(s.findDOMNode)(this.refs.newEmail).value};this.props.updateUser(this.state.userID,e),this.props.logoutUser()}},{key:"render",value:function(){return r.a.createElement(G.a,{xs:12,md:{span:6,offset:3}},r.a.createElement(U.a,null,r.a.createElement(U.a.Header,null,r.a.createElement(U.a.Title,null,"Modifie tes informations de compte")),r.a.createElement(U.a.Body,null,this.state.modifyUser?r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(K.a,{controlId:"newNom"},r.a.createElement(ye.a,null,"Change ton Nom :"),r.a.createElement(F.a,{type:"text",defaultValue:this.props.nom,ref:"newNom"}))),r.a.createElement("li",null,r.a.createElement(K.a,{controlId:"newPrenom"},r.a.createElement(ye.a,null,"Change ton Pr\xe9nom :"),r.a.createElement(F.a,{type:"text",defaultValue:this.props.prenom,ref:"newPrenom"}))),r.a.createElement("li",null,r.a.createElement(K.a,{controlId:"newPseudo"},r.a.createElement(ye.a,null,"Change ton pseudo :"),r.a.createElement(F.a,{type:"text",defaultValue:this.props.pseudo,ref:"newPseudo"}))),r.a.createElement("li",null,r.a.createElement(K.a,{controlId:"newEmail"},r.a.createElement(ye.a,null,"Change ton email :"),r.a.createElement(F.a,{type:"text",defaultValue:this.props.email,ref:"newEmail"}))),r.a.createElement("li",null,r.a.createElement(J.a,{onClick:this.changeUser.bind(this)},"Sauvegarder"),r.a.createElement(J.a,{onClick:this.modifyUser.bind(this)},"Annuler")),r.a.createElement("li",null,r.a.createElement("p",null,"Attention tu seras d\xe9connect\xe9 automatiquement afin de faire la mise \xe0 jour. Il faudra te connecter \xe0 nouveau."))):r.a.createElement("ul",null,r.a.createElement("li",null,"nom : ",this.props.nom),r.a.createElement("li",null,"pr\xe9nom : ",this.props.prenom),r.a.createElement("li",null,"pseudo : ",this.props.pseudo),r.a.createElement("li",null,"email : ",this.props.email),r.a.createElement("li",null,r.a.createElement(J.a,{onClick:this.modifyUser.bind(this)},"Modifier"))))))}}]),t}(n.Component);var Se=Object(c.b)(null,function(e){return Object(z.b)({updateUser:C,logoutUser:I},e)})(je),Ce=function(e){function t(e){var a;Object(i.a)(this,t),a=Object(m.a)(this,Object(d.a)(t).call(this,e));var n=localStorage.getItem("userPseudo"),r=localStorage.getItem("userID");return a.state={userPseudo:n,userID:r,modifyName:!1,isAdmin:!1,qualifying:["5c17bb3bc7924a0b36b6de71","5c17bb3bc7924a0b36b6de68","5c17bb3bc7924a0b36b6de73","5c17bb3bc7924a0b36b6de69","5c17bb3bc7924a0b36b6de6e","5c17bb3bc7924a0b36b6de6a","5c17bb3bc7924a0b36b6de70","5c17bb3bc7924a0b36b6de72","5c17bb3bc7924a0b36b6de74","5c17bb3bc7924a0b36b6de6d","5c17bb3bc7924a0b36b6de67","5c17bb3bc7924a0b36b6de6b","5c17bb3bc7924a0b36b6de6c","5c17bb3bc7924a0b36b6de6f","5c17bb3bc7924a0b36b6de75","5c17bb3bc7924a0b36b6de84"]},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.userID;this.props.getUser({id:e}),this.props.getVote(e),this.props.getAllVote(),"C Fab"===this.state.userPseudo&&this.setState({isAdmin:!0})}},{key:"getPoints",value:function(){var e=this;this.props.allVote.map(function(t,a){var n=0;return t.teams.map(function(t,a){return-1!==e.state.qualifying.indexOf(t)&&(n+=1),n}),e.props.updateClassement(t.userID,{points:n}),n})}},{key:"render",value:function(){return r.a.createElement(L.a,{id:"mon-compte",className:"vertical-middle",fluid:!0},r.a.createElement(G.a,{xs:12},r.a.createElement("h1",{className:"align-center"},"Voici ton compte ",this.state.userPseudo),this.props.userData.map(function(e,t){return r.a.createElement(Se,Object.assign({key:t},e))})),r.a.createElement(G.a,{xs:12},this.props.userVote.map(function(e,t){return r.a.createElement(ae,Object.assign({key:t},e))})),this.state.isAdmin?r.a.createElement(G.a,{xs:12,className:"align-center"},r.a.createElement(J.a,{onClick:this.getPoints.bind(this)},"Calculer les points")):null)}}]),t}(n.Component);var Te=Object(c.b)(function(e){return{userData:e.auth.user,userVote:e.vote.userVote,allVote:e.vote.allVote}},function(e){return Object(z.b)({getUser:_,getVote:Ee,getAllVote:he,updateClassement:me},e)})(Ce),_e=function(){return r.a.createElement("main",null,r.a.createElement(V.a,null,r.a.createElement(D.a,{exact:!0,path:"/",component:W}),r.a.createElement(D.a,{path:"/signin",component:$}),r.a.createElement(D.a,{path:"/vote",component:ce}),r.a.createElement(D.a,{path:"/classement",component:pe}),r.a.createElement(D.a,{path:"/quiavotequoi",component:Oe}),r.a.createElement(D.a,{path:"/monCompte",component:Te})))},Ne=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(w,null),r.a.createElement(_e,null))}}]),t}(n.Component),Ie=a(21),ke=a(18),we={teams:[],error:null},Ve={series:[],voteSeries:[],userSeries:[],error:null},De={vote:[],userVote:[],allVote:[]},Ae={classement:[],userClassement:[],allClassement:[]},Re=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},xe={isAuthenticated:!1,user:[]};var Le={};var Pe=Object(z.c)({teams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TEAMS":return Object(ke.a)({},e,{teams:Object(Ie.a)(t.payload)});case"GET_TEAMS_REJECTED":return t.payload;default:return e}},series:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SERIES":return Object(ke.a)({},e,{series:Object(Ie.a)(t.payload)});case"GET_SERIES_REJECTED":return t.payload;case"POST_SERIES":return Object(ke.a)({},e,{voteSeries:Object(Ie.a)(t.payload)});case"POST_SERIES_REJECTED":return t.payload;case"GET_USER_SERIES_VOTE":return Object(ke.a)({},e,{userSeries:Object(Ie.a)(t.payload)});case"GET_USER_SERIES_VOTE_REJECTED":return t.payload;default:return e}},vote:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_VOTE":return Object(ke.a)({},e,{vote:[].concat(Object(Ie.a)(e.vote),[t.payload])});case"POST_VOTE_REJECTED":return t.payload;case"GET_VOTE":return Object(ke.a)({},e,{userVote:Object(Ie.a)(t.payload)});case"GET_VOTE_REJECTED":return t.payload;case"GET_ALL_VOTE":return Object(ke.a)({},e,{allVote:Object(Ie.a)(t.payload)});case"GET_ALL_VOTE_REJECTED":return t.payload;default:return e}},classement:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_CLASSEMENT":return Object(ke.a)({},e,{classement:[].concat(Object(Ie.a)(e.classement),[t.payload])});case"POST_CLASSEMENT_REJECTED":return t.payload;case"GET_CLASSEMENT":return Object(ke.a)({},e,{userClassement:Object(Ie.a)(t.payload)});case"GET_CLASSEMENT_REJECTED":return t.payload;case"GET_ALL_CLASSEMENT":return Object(ke.a)({},e,{allClassement:Object(Ie.a)(t.payload)});case"GET_ALL_CLASSEMENT_REJECTED":return t.payload;case"UPDATE_CLASSEMENT":var a=Object(Ie.a)(e.allClassement),n=t.datas;return a[a.findIndex(function(e){return e._id===t.id})]=n,Object(ke.a)({},e,{allClassement:a});case"UPDATE_CLASSEMENT_REJECTED":return t.payload;default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return t.payload;default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(ke.a)({},e,{isAuthenticated:!Re(t.payload),user:[t.payload]});default:return e}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ge=a(81),Ue=a(82),Me=a(83),Je=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||z.d,Be=Object(z.e)(Pe,Je(Object(z.a)(Object(Me.a)(),Ue.a,Object(Ge.createLogger)())));o.a.render(r.a.createElement(c.a,{store:Be},r.a.createElement(l.a,null,r.a.createElement(Ne,null))),document.getElementById("root"));t.default=Be;"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},47:function(e,t,a){e.exports=a.p+"static/media/nhl.266661c7.svg"},84:function(e,t,a){e.exports=a(134)},95:function(e,t,a){},96:function(e,t,a){}},[[84,1,2]]]);
//# sourceMappingURL=main.e283ebd1.chunk.js.map